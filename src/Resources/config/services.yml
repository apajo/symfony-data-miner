imports:
  - { resource: "properties.yml" }
  - { resource: "features.yml" }

services:
  data_miner.command:
    class: PhpDataMiner\Command\TrainCommand
    autowire: true
    tags:
      - {name: console.command}

  data_miner.miner:
    class: PhpDataMiner\Miner\Miner
    calls:
      - ["setProvider", ["@data_miner.property.provider"]]

  data_miner.property.provider:
    class: PhpDataMiner\Model\Property\Provider
    arguments:
      - "@data_miner.property.registry"

  data_miner.property.registry:
    class: PhpDataMiner\Registry\Registry

  data_miner.property.abstract:
    abstract: true
    calls:
      - ["addFeature", ["@data_miner.feature.word_tree"]]

  data_miner.feature.abstract:
    abstract: true
